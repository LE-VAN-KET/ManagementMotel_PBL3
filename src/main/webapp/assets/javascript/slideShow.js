const a=document.querySelectorAll("a.image"),cfImg=document.getElementsByClassName("coverflow__image");let scaleI=0;for(;scaleI<a.length;scaleI++)3!==scaleI&&(a[scaleI].style.cursor="default",a[scaleI].addEventListener("click",prevDef));function prevDef(e){e.preventDefault()}function forScale(coverflowPos){for(scaleI=0;scaleI<a.length;scaleI++)a[scaleI].style.cursor="default",a[scaleI].addEventListener("click",prevDef);for(scaleI=0;scaleI<cfImg.length;scaleI++)cfImg[scaleI].getAttribute("data-coverflow-index")==coverflowPos&&(cfImg[scaleI].parentElement.style.cursor="pointer",cfImg[scaleI].parentElement.removeEventListener("click",prevDef))}function setupCoverflow(coverflowContainer){let coverflowContainers;coverflowContainers=void 0!==coverflowContainer?Array.isArray(coverflowContainer)?coverflowContainer:[coverflowContainer]:Array.prototype.slice.apply(document.getElementsByClassName("coverflow")),coverflowContainers.forEach((function(containerElement){let coverflow={},prevArrows,nextArrows;function setPrevImage(){coverflow.position=Math.max(1,coverflow.position-1),coverflow.container.dataset.coverflowPosition=coverflow.position,forScale(coverflow.position)}function setNextImage(){coverflow.position=Math.min(coverflow.images.length,coverflow.position+1),coverflow.container.dataset.coverflowPosition=coverflow.position,forScale(coverflow.position)}function jumpToImage(evt){coverflow.position=Math.min(coverflow.images.length,Math.max(1,evt.target.dataset.coverflowIndex)),coverflow.container.dataset.coverflowPosition=coverflow.position,setTimeout((function(){forScale(coverflow.position)}),1)}function onKeyPress(evt){switch(evt.which){case 37:setPrevImage();break;case 39:setNextImage()}}coverflow.container=containerElement,coverflow.images=Array.prototype.slice.apply(containerElement.getElementsByClassName("coverflow__image")),coverflow.position=Math.floor(coverflow.images.length/2)+1,coverflow.images.forEach((function(coverflowImage,i){coverflowImage.dataset.coverflowIndex=i+1})),coverflow.container.dataset.coverflowPosition=coverflow.position,prevArrows=Array.prototype.slice.apply(coverflow.container.getElementsByClassName("prev-arrow")),nextArrows=Array.prototype.slice.apply(coverflow.container.getElementsByClassName("next-arrow")),prevArrows.forEach((function(prevArrow){prevArrow.addEventListener("click",setPrevImage)})),nextArrows.forEach((function(nextArrow){nextArrow.addEventListener("click",setNextImage)})),coverflow.images.forEach((function(image){image.addEventListener("click",jumpToImage)})),window.addEventListener("keyup",onKeyPress)}))}setupCoverflow();